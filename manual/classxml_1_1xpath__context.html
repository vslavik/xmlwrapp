<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>xmlwrapp: xml::xpath_context Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">xmlwrapp
   </div>
   <div id="projectbrief">Lightweight C++ XML parsing library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacexml.html">xml</a></li><li class="navelem"><a class="el" href="classxml_1_1xpath__context.html">xpath_context</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classxml_1_1xpath__context-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">xml::xpath_context Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Context in which XPath expressions can be evaluated.  
 <a href="classxml_1_1xpath__context.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="xpath_8h_source.html">xpath.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a1ac25af268784acee9877670a7c8bf79" id="r_a1ac25af268784acee9877670a7c8bf79"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxml_1_1xpath__context.html#a1ac25af268784acee9877670a7c8bf79">xpath_context</a> (const <a class="el" href="classxml_1_1document.html">xml::document</a> &amp;doc)</td></tr>
<tr class="memdesc:a1ac25af268784acee9877670a7c8bf79"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create XPath context for the given document.  <br /></td></tr>
<tr class="separator:a1ac25af268784acee9877670a7c8bf79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11bdefc0e6950bacfb7c4efd20560205" id="r_a11bdefc0e6950bacfb7c4efd20560205"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxml_1_1xpath__context.html#a11bdefc0e6950bacfb7c4efd20560205">register_namespace</a> (const std::string &amp;prefix, const std::string &amp;href)</td></tr>
<tr class="memdesc:a11bdefc0e6950bacfb7c4efd20560205"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a namespace with prefix.  <br /></td></tr>
<tr class="separator:a11bdefc0e6950bacfb7c4efd20560205"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae07378545b45cbe1c2fd6fe0559b2a56" id="r_ae07378545b45cbe1c2fd6fe0559b2a56"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classxml_1_1const__nodes__view.html">const_nodes_view</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxml_1_1xpath__context.html#ae07378545b45cbe1c2fd6fe0559b2a56">evaluate</a> (const std::string &amp;expr, <a class="el" href="classxml_1_1error__handler.html">error_handler</a> &amp;on_error=<a class="el" href="namespacexml.html#a0364ca612c720ffef872672fc19bcf10">throw_on_error</a>)</td></tr>
<tr class="memdesc:ae07378545b45cbe1c2fd6fe0559b2a56"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute an XPath query in the document scope.  <br /></td></tr>
<tr class="separator:ae07378545b45cbe1c2fd6fe0559b2a56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cf6693c2884d1b7684d91354ce20e49" id="r_a4cf6693c2884d1b7684d91354ce20e49"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classxml_1_1const__nodes__view.html">const_nodes_view</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxml_1_1xpath__context.html#a4cf6693c2884d1b7684d91354ce20e49">evaluate</a> (const std::string &amp;expr, const <a class="el" href="classxml_1_1node.html">xml::node</a> &amp;n, <a class="el" href="classxml_1_1error__handler.html">error_handler</a> &amp;on_error=<a class="el" href="namespacexml.html#a0364ca612c720ffef872672fc19bcf10">throw_on_error</a>)</td></tr>
<tr class="memdesc:a4cf6693c2884d1b7684d91354ce20e49"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute an XPath query in the scope of XML node <em>n</em>.  <br /></td></tr>
<tr class="separator:a4cf6693c2884d1b7684d91354ce20e49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51db8f6136592daeb06a59e2116b3db6" id="r_a51db8f6136592daeb06a59e2116b3db6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classxml_1_1nodes__view.html">nodes_view</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxml_1_1xpath__context.html#a51db8f6136592daeb06a59e2116b3db6">evaluate</a> (const std::string &amp;expr, <a class="el" href="classxml_1_1node.html">xml::node</a> &amp;n, <a class="el" href="classxml_1_1error__handler.html">error_handler</a> &amp;on_error=<a class="el" href="namespacexml.html#a0364ca612c720ffef872672fc19bcf10">throw_on_error</a>)</td></tr>
<tr class="memdesc:a51db8f6136592daeb06a59e2116b3db6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute an XPath query in the scope of XML node <em>n</em>.  <br /></td></tr>
<tr class="separator:a51db8f6136592daeb06a59e2116b3db6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Context in which XPath expressions can be evaluated. </p>
<p>The context object can (and indeed, should) be reused for multiple XPath queries on the same document.</p>
<dl class="section since"><dt>Since</dt><dd>0.8.0 </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a1ac25af268784acee9877670a7c8bf79" name="a1ac25af268784acee9877670a7c8bf79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ac25af268784acee9877670a7c8bf79">&#9670;&#160;</a></span>xpath_context()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">xml::xpath_context::xpath_context </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classxml_1_1document.html">xml::document</a> &amp;&#160;</td>
          <td class="paramname"><em>doc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create XPath context for the given document. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">doc</td><td>Document for the context to work with. The lifetime of the document must be greater than the context object's. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a4cf6693c2884d1b7684d91354ce20e49" name="a4cf6693c2884d1b7684d91354ce20e49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4cf6693c2884d1b7684d91354ce20e49">&#9670;&#160;</a></span>evaluate() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classxml_1_1const__nodes__view.html">const_nodes_view</a> xml::xpath_context::evaluate </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>expr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classxml_1_1node.html">xml::node</a> &amp;&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classxml_1_1error__handler.html">error_handler</a> &amp;&#160;</td>
          <td class="paramname"><em>on_error</em> = <code><a class="el" href="namespacexml.html#a0364ca612c720ffef872672fc19bcf10">throw_on_error</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Execute an XPath query in the scope of XML node <em>n</em>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">expr</td><td>XPath expression. </td></tr>
    <tr><td class="paramname">n</td><td>The context node for the expression. </td></tr>
    <tr><td class="paramname">on_error</td><td>Error handler throwing an exception if an error occurs during the expression evaluation. Notice that absence of matches isn't considered to be an error, in this case the function just returns an empty set.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Const set of matching nodes. </dd></dl>

</div>
</div>
<a id="ae07378545b45cbe1c2fd6fe0559b2a56" name="ae07378545b45cbe1c2fd6fe0559b2a56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae07378545b45cbe1c2fd6fe0559b2a56">&#9670;&#160;</a></span>evaluate() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classxml_1_1const__nodes__view.html">const_nodes_view</a> xml::xpath_context::evaluate </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>expr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classxml_1_1error__handler.html">error_handler</a> &amp;&#160;</td>
          <td class="paramname"><em>on_error</em> = <code><a class="el" href="namespacexml.html#a0364ca612c720ffef872672fc19bcf10">throw_on_error</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Execute an XPath query in the document scope. </p>
<p>Calling this function is exactly equivalent to using the overload taking an <a class="el" href="classxml_1_1node.html" title="The xml::node class is used to hold information about one XML node.">xml::node</a> argument with <a class="el" href="classxml_1_1document.html#a4472e7333f5aa1b522e44098649afb23" title="Get a reference to the root node of this document.">xml::document::get_root_node()</a>.</p>
<p>In particular, this implies that if you need to modify nodes in the returned set, you can simple use the non-const overload taking <a class="el" href="classxml_1_1node.html" title="The xml::node class is used to hold information about one XML node.">xml::node</a>&amp; argument and pass <a class="el" href="classxml_1_1document.html#a4472e7333f5aa1b522e44098649afb23" title="Get a reference to the root node of this document.">xml::document::get_root_node()</a> result to it. </p>

</div>
</div>
<a id="a51db8f6136592daeb06a59e2116b3db6" name="a51db8f6136592daeb06a59e2116b3db6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51db8f6136592daeb06a59e2116b3db6">&#9670;&#160;</a></span>evaluate() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classxml_1_1nodes__view.html">nodes_view</a> xml::xpath_context::evaluate </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>expr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classxml_1_1node.html">xml::node</a> &amp;&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classxml_1_1error__handler.html">error_handler</a> &amp;&#160;</td>
          <td class="paramname"><em>on_error</em> = <code><a class="el" href="namespacexml.html#a0364ca612c720ffef872672fc19bcf10">throw_on_error</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Execute an XPath query in the scope of XML node <em>n</em>. </p>
<p>This overload is identical to the one taking const <em>n</em> argument, except that it returns a set of nodes that can be modified. </p>

</div>
</div>
<a id="a11bdefc0e6950bacfb7c4efd20560205" name="a11bdefc0e6950bacfb7c4efd20560205"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11bdefc0e6950bacfb7c4efd20560205">&#9670;&#160;</a></span>register_namespace()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void xml::xpath_context::register_namespace </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>href</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a namespace with prefix. </p>
<p>This function has to be called in order to be able to evaluate XPath expressions that match nodes in a non-default namespace. Must be called before <a class="el" href="classxml_1_1xpath__context.html#ae07378545b45cbe1c2fd6fe0559b2a56" title="Execute an XPath query in the document scope.">evaluate()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">prefix</td><td>The prefix used in XPath expressions for the namespace. (Notice that it doesn't have to be the same prefix as used in the XML document.) </td></tr>
    <tr><td class="paramname">href</td><td>URI of the namespace used in the document. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>xmlwrapp/<a class="el" href="xpath_8h_source.html">xpath.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Dec 5 2025 21:15:11 for xmlwrapp by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
